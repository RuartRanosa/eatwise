{"ast":null,"code":"var _jsxFileName = \"/home/ruart/Desktop/eatwise/client/src/components/Shop.js\";\nimport React, { Component } from 'react';\nimport SearchShop from './SearchShop';\nimport mapboxgl from 'mapbox-gl';\nimport Mapbox from './Mapbox.js';\nimport StarRatingComponent from 'react-star-rating-component';\nimport { rate } from './UserFunctions.js';\nimport blankavatar from '../pictures/blankavatar.png';\nimport pic1 from '../pictures/pic1.jpg';\nimport pic2 from '../pictures/pic2.jpg';\nimport pic3 from '../pictures/pic3.jpg';\nimport pic4 from '../pictures/pic4.jpg';\nimport map1 from '../pictures/losbanos.png';\nimport './CSS/Shop.css';\nimport elementType from 'prop-types-extra/lib/elementType';\nimport Button from 'react-bootstrap/Button';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Form from 'react-bootstrap/Form';\nimport Rater from 'react-rater';\nimport 'react-rater/lib/react-rater.css';\nimport jwt_decode from 'jwt-decode';\n\nconst qs = require(\"query-string\");\n\nclass Shop extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userId: 0,\n      name: \"\",\n      shopId: 0,\n      avgPrice: \"\",\n      type: \"\",\n      location: \"\",\n      description: \"\",\n      menu: \"\",\n      votes: 0,\n      comment: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onStarClick = this.onStarClick.bind(this);\n    this.submitRating = this.submitRating.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onStarClick(nextValue, prevValue, name) {\n    console.log(nextValue);\n    this.setState({\n      votes: nextValue\n    });\n  }\n\n  submitRating(e) {\n    e.preventDefault();\n    console.log(this.state.votes);\n    const rating = {\n      userId: this.state.userId,\n      shopId: this.state.shopId,\n      comment: this.state.comment,\n      votes: this.state.votes\n    };\n    rate(rating).then(res => {\n      if (res) {\n        alert(\"Rating completed\");\n      } else {\n        alert(\"Failed\");\n      }\n    });\n  }\n\n  Review(props) {\n    if (props !== -1) {\n      return React.createElement(\"div\", {\n        className: \"commentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \" Rate this restaurant! \"), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(StarRatingComponent, {\n        editing: true,\n        id: \"rate-this-interactive\",\n        value: this.state.votes,\n        onStarClick: this.onStarClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }))), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        componentClass: \"textarea\",\n        style: {\n          height: 80\n        },\n        placeholder: \"Add a comment...\",\n        name: \"comment\",\n        value: this.state.comment,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"commentButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"warning\",\n        onClick: this.submitRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" Submit Rating \")))));\n    }\n  }\n\n  componentDidMount() {\n    var shopName = qs.parse(this.props.location.search, {\n      ignoreQueryPrefix: true\n    }).shopName;\n    var id = qs.parse(this.props.location.search, {\n      ignoreQueryPrefix: true\n    }).shopId;\n    console.log(qs.parse(this.props.location.search, {\n      ignoreQueryPrefix: true\n    }));\n    this.setState({\n      name: shopName\n    });\n    this.setState({\n      id: id\n    });\n    fetch('http://localhost:2019/search-shop/?name=' + shopName + \"&id=\" + id).then(response => {\n      return response.json();\n    }).then(result => {\n      console.log(result);\n      this.setState({\n        avgPrice: result[0].avgPrice\n      });\n      this.setState({\n        type: result[0].type\n      });\n      this.setState({\n        location: result[0].location\n      });\n      this.setState({\n        description: result[0].description\n      });\n      this.setState({\n        menu: result[0].menu\n      });\n      this.setState({\n        votes: result[0].votes\n      });\n      this.setState({\n        shopId: id\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n\n    if (localStorage.usertoken) {\n      var token = localStorage.usertoken;\n      var decoded = jwt_decode(token);\n      this.setState({\n        userId: decoded.userId\n      });\n    } else {\n      alert(\"no account\");\n    }\n  } //reloads page when new data arrives\n\n\n  componentWillReceiveProps(nextProps) {\n    window.location.reload();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"body\", {\n      className: \"App-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"avatarContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: blankavatar,\n      className: \"blankavatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"resName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"*name of restaurant*\"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(StarRatingComponent, {\n      starCount: 5,\n      id: \"rate-this-interactive\",\n      value: this.state.votes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    })))))), React.createElement(Review, {\n      value: this.state.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })));\n  }\n\n}\n\n{\n  /*\n     View url content\n     <td>{console.log(this.props)}</td>\n     <td>{console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName)}</td>\n  */\n}\nexport default Shop;","map":{"version":3,"sources":["/home/ruart/Desktop/eatwise/client/src/components/Shop.js"],"names":["React","Component","SearchShop","mapboxgl","Mapbox","StarRatingComponent","rate","blankavatar","pic1","pic2","pic3","pic4","map1","elementType","Button","Carousel","Form","Rater","jwt_decode","qs","require","Shop","constructor","state","userId","name","shopId","avgPrice","type","location","description","menu","votes","comment","onChange","bind","onStarClick","submitRating","e","setState","target","value","nextValue","prevValue","console","log","preventDefault","rating","then","res","alert","Review","props","height","componentDidMount","shopName","parse","search","ignoreQueryPrefix","id","fetch","response","json","result","catch","localStorage","usertoken","token","decoded","componentWillReceiveProps","nextProps","window","reload","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport SearchShop from './SearchShop'\nimport mapboxgl from 'mapbox-gl'\nimport Mapbox from './Mapbox.js';\nimport StarRatingComponent from 'react-star-rating-component';\nimport { rate } from './UserFunctions.js'\n\n\nimport blankavatar from '../pictures/blankavatar.png'; \nimport pic1 from '../pictures/pic1.jpg' \nimport pic2 from '../pictures/pic2.jpg' \nimport pic3 from '../pictures/pic3.jpg' \nimport pic4 from '../pictures/pic4.jpg' \nimport map1 from '../pictures/losbanos.png'\n\nimport './CSS/Shop.css';\nimport elementType from 'prop-types-extra/lib/elementType';\nimport Button from 'react-bootstrap/Button';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Form from 'react-bootstrap/Form';\nimport Rater from 'react-rater';\nimport 'react-rater/lib/react-rater.css';\n\nimport jwt_decode from 'jwt-decode'\n\nconst qs = require(\"query-string\")\n\nclass Shop extends Component {\n    constructor() {\n        super()\n        this.state = {\n            userId: 0,\n            name: \"\",\n            shopId: 0,\n            avgPrice: \"\",\n            type: \"\",\n            location: \"\",\n            description: \"\",\n            menu: \"\",\n            votes: 0 ,\n            comment: \"\"  \n        }\n        this.onChange = this.onChange.bind(this)\n        this.onStarClick = this.onStarClick.bind(this)\n        this.submitRating = this.submitRating.bind(this)\n\n    }\n\n    onChange (e) {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    onStarClick(nextValue, prevValue, name){\n      console.log(nextValue)\n      this.setState({votes: nextValue})\n    }\n\n    submitRating(e){\n      e.preventDefault()\n      console.log(this.state.votes)\n      const rating = {\n        userId: this.state.userId,\n        shopId: this.state.shopId,\n        comment: this.state.comment,\n        votes: this.state.votes\n      }\n\n      rate(rating).then((res) => {\n        if(res){\n          alert(\"Rating completed\")\n        }else{\n          alert(\"Failed\")\n        }\n      })\n    }\n    \n    Review(props){\n      if(props !== -1){\n        return(\n          <div className=\"commentContainer\">\n                  <div className=\"rating\">\n                    <h3> Rate this restaurant! </h3>\n                    <h1><StarRatingComponent\n                          editing = {true}\n                          id = \"rate-this-interactive\" \n                          value = {this.state.votes}\n                          onStarClick={this.onStarClick.bind(this)}\n                        /></h1>\n                  </div>\n                <Form>\n                    <Form.Group controlId=\"comment\">\n                        <Form.Control componentClass=\"textarea\" style={{ height: 80 }} placeholder=\"Add a comment...\" \n                          name=\"comment\"\n                          value={this.state.comment}\n                          onChange={this.onChange}\n                        />\n                        <div className=\"commentButton\">\n                    <Button variant=\"warning\" onClick = {this.submitRating}> Submit Rating </Button>\n                        </div>\n                    </Form.Group>\n                </Form>\n              </div>\n        )\n      }\n    }    \n\n    componentDidMount(){\n        var shopName = qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName\n        var id = qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopId\n        console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}))\n        this.setState({name: shopName})\n        this.setState({id: id})\n        fetch('http://localhost:2019/search-shop/?name='+shopName+\"&id=\"+id)\n            .then((response) => { return response.json() })\n            .then((result) => {\n                console.log(result)\n                this.setState({avgPrice: result[0].avgPrice})\n                this.setState({type: result[0].type})\n                this.setState({location: result[0].location})\n                this.setState({description: result[0].description})\n                this.setState({menu: result[0].menu})\n                this.setState({votes: result[0].votes})\n                this.setState({shopId: id})\n            })\n            .catch((e) => { console.log(e)});   \n        if(localStorage.usertoken){\n          var token = localStorage.usertoken\n          var decoded = jwt_decode(token)\n          this.setState({\n              userId: decoded.userId\n          })     \n        }else{\n          alert(\"no account\")\n        }\n    }\n\n    //reloads page when new data arrives\n    componentWillReceiveProps(nextProps){\n           window.location.reload()\n    }\n \n    render () {\n        return (\n            <div className=\"App\">\n\n          <body className=\"App-body\">\n            <div className=\"\">\n                <div className=\"\">\n                   \n                    <div className=\"\">\n                         <div className=\"avatarContainer\">\n                            <img src={blankavatar} className=\"blankavatar\" />\n                        </div>\n                        <div className=\"resName\">\n                            <h2>*name of restaurant*</h2>\n                            <h1><StarRatingComponent\n                                  starCount = {5}\n                                  id = \"rate-this-interactive\" \n                                  value = {this.state.votes}\n                                />\n                        </h1>    \n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Review value={this.state.userId}/> \n\n            \n          </body>\n      </div>\n\n        )\n    }\n}\n\n{/*\n    View url content\n    <td>{console.log(this.props)}</td>\n    <td>{console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName)}</td>\n*/}\n\n\nexport default Shop"]},"metadata":{},"sourceType":"module"}